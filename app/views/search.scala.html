@*Copyright 2014 Jan Schnasse, hbz. Licensed under the Apache License 2.0 *@

@import views.Helper 
@import org.elasticsearch.search.aggregations.Aggregations

@(hits: List[Map[String,Object]],aggregations:Aggregations,q: String,totalNum: Long,from: Int, until: Int,namespace:String)


@pagination(allHits: Long,from: Int,until: Int)={
<nav>
	<ul class="pager">
		<li class="previous @if(from==0){disabled}">
			<a style="width:20%; text-align: center;" href="@if(from==0){#} else {@controllers.routes.Resource.search(q,from-10,until-10)}">
			&larr;
			</a>
		</li>
		<li class="disabled">
			<a style="width:60%; text-align: center; white-space: nowrap;" href="#">
			@from to @if(until <= allHits){@until} else{@allHits} of @allHits
			</a>
		</li>
		<li class="next @if(until >= allHits){disabled}">
			<a style="width:20%; text-align: center;" href="@if(until >= allHits){#} else {@controllers.routes.Resource.search(q,from+10,until+10)}">
			&rarr;
			</a>
		</li>
	</ul>
</nav>
}

@main("Regal Suche",aggregations) {
<div class="container">
	<div class="row">
		<div class="col-md-5">@pagination(totalNum,from,until)</div>
	</div>
	<div class="container-fluid">
<div class="row">
	<div  class="col-md-11">
			<ol class="searchResults">
			@for( hit <- hits){
			<li class="searchResult">
			<div class="container">
			@tags.resourceShortView(hit,Helper.getOrderedListOfKeysFromContext(Globals.profile.getContext().get("@context").asInstanceOf[Map[String,Object]]),namespace)
			</div>
			</li>
			<hr/>
			}
			</ol>
		
</div>
</div>
	<div class="row">
		<div class="col-md-5">@pagination(totalNum,from,until)</div>
	</div>
</div>
}